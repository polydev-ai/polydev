# Master Controller Environment Configuration
# Copy this to .env and fill in your values

# Server
NODE_ENV=production
PORT=4000
HOST=0.0.0.0

# Database (Supabase)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key

# Encryption
ENCRYPTION_MASTER_KEY=your-32-byte-hex-encryption-key-here

# Decodo Proxy
DECODO_USER=sp9dso1iga
DECODO_PASSWORD=GjHd8bKd3hizw05qZ=
DECODO_HOST=dc.decodo.com
DECODO_PORT_START=10001
DECODO_PORT_END=10100

# Firecracker
FIRECRACKER_BASE=/var/lib/firecracker
FIRECRACKER_BINARY=/usr/bin/firecracker
JAILER_BINARY=/usr/bin/jailer
GOLDEN_SNAPSHOT=/var/lib/firecracker/snapshots/base/golden.snap
GOLDEN_MEMORY=/var/lib/firecracker/snapshots/base/golden.mem
GOLDEN_KERNEL=/var/lib/firecracker/snapshots/base/vmlinux
GOLDEN_ROOTFS=/var/lib/firecracker/snapshots/base/rootfs.ext4

# Network
INTERNAL_NETWORK=192.168.100.0/24
BRIDGE_DEVICE=fcbr0
BRIDGE_IP=192.168.100.1
IP_POOL_START=192.168.100.2
IP_POOL_END=192.168.100.254

# Performance Limits
VM_IDLE_TIMEOUT=1800000          # 30 minutes in ms
VM_DESTROY_TIMEOUT=1209600000    # 2 weeks in ms
MAX_CONCURRENT_VMS=180
MAX_BROWSER_VMS=2

# CLI VM Resources
CLI_VM_VCPU=0.5
CLI_VM_MEMORY_MB=256

# Browser VM Resources
BROWSER_VM_VCPU=2
BROWSER_VM_MEMORY_MB=2048

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000      # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# Monitoring
PROMETHEUS_ENABLED=true
METRICS_COLLECTION_INTERVAL=10000  # 10 seconds

# Logging
LOG_LEVEL=info
LOG_FILE=/var/log/polydev/master-controller.log
ERROR_LOG_FILE=/var/log/polydev/master-controller-error.log

# WebSocket
WS_HEARTBEAT_INTERVAL=30000      # 30 seconds
WS_CONNECTION_TIMEOUT=120000     # 2 minutes

# Email Notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@polydev.ai
